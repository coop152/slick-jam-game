[gd_scene format=3 uid="uid://dfkfdbak0oyqg"]

[ext_resource type="Script" uid="uid://d8d0xkoijd4f" path="res://race_phase.gd" id="1_73ci3"]
[ext_resource type="PackedScene" uid="uid://do2mm02qku4wx" path="res://vehicles/PlayerCar.tscn" id="2_reikq"]
[ext_resource type="PackedScene" uid="uid://bc4ecf6lugwaq" path="res://rainbow road/reexported.glb" id="3_73ci3"]
[ext_resource type="Script" uid="uid://uhvu8jbunlkq" path="res://lap_marker.gd" id="4_reikq"]

[sub_resource type="Environment" id="Environment_u52ul"]
background_mode = 1
ambient_light_source = 3
ambient_light_color = Color(1, 1, 1, 1)
ambient_light_energy = 0.5
reflected_light_source = 2

[sub_resource type="Curve3D" id="Curve3D_0b4ue"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 35.1054, -2.0380402, -2.0508175, 0, 0, 0, 0, 0, 0, 33.978203, -5.6549835, -70.3253, 0, 0, 0, 0, 0, 0, 33.905396, -15.257431, -137.22183, 0, 0, 0, 0, 0, 0, 32.8916, -29.262817, -188.51178, 0, 0, 0, 0, 0, 0, 33.541992, -55.570206, -241.5051, 0, 0, 0, 0, 0, 0, 34.222168, -109.491684, -310.5209, 0, 0, 0, 0, 0, 0, 35.15454, -154.2654, -382.8444, 0, 0, 0, 0, 0, 0, 34.907715, -175.89938, -456.57663, 0, 0, 0, 0, 0, 0, 35.195923, -175.33234, -512.0874, 0, 0, 0, 0, 0, 0, 32.924805, -164.8414, -561.52014),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 10

[sub_resource type="SphereMesh" id="SphereMesh_0b4ue"]

[sub_resource type="BoxShape3D" id="BoxShape3D_reikq"]
size = Vector3(24.007904, 14.597534, 2.4928284)

[sub_resource type="BoxShape3D" id="BoxShape3D_cm7xk"]
size = Vector3(24.007904, 14.597534, 2.4928284)

[sub_resource type="BoxShape3D" id="BoxShape3D_eiqoy"]
size = Vector3(24.007904, 14.597534, 2.4928284)

[node name="RacePhase" type="Node3D" unique_id=1031006576]
script = ExtResource("1_73ci3")

[node name="Player" parent="." unique_id=1411255366 instance=ExtResource("2_reikq")]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 38.91528, 208.16571, 52.799015)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="." unique_id=1006399594]
transform = Transform3D(0.82984674, -0.31668356, 0.4594191, 0, 0.8233444, 0.567542, -0.5579914, -0.4709729, 0.68324965, 19.767551, 23.723919, 13.804652)
shadow_bias = 1.0

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=854881167]
environment = SubResource("Environment_u52ul")

[node name="Path3D" type="Path3D" parent="." unique_id=787066161]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 204.33138, 18.63929)
curve = SubResource("Curve3D_0b4ue")

[node name="MeshInstance3D" type="MeshInstance3D" parent="." unique_id=33853651]
transform = Transform3D(0.99986374, -0.0008731685, 0.016484428, 2.910383e-11, 0.99860007, 0.052895136, -0.016507538, -0.052887928, 0.998464, 35.1054, 202.29333, 16.588472)
mesh = SubResource("SphereMesh_0b4ue")

[node name="reexported" parent="." unique_id=499179727 instance=ExtResource("3_73ci3")]
transform = Transform3D(4, 0, 0, 0, 4, 0, 0, 0, 4, 0, 0, 0)

[node name="LapMarker" type="Area3D" parent="." unique_id=2035040662]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 34.934483, 207.81271, 19.0788)
collision_layer = 2
collision_mask = 0
script = ExtResource("4_reikq")
marker_type = 1

[node name="CollisionShape3D" type="CollisionShape3D" parent="LapMarker" unique_id=311782905]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.06980896, -1.562561, 1.1866608)
shape = SubResource("BoxShape3D_reikq")
debug_color = Color(0, 0.6, 0.69803923, 0.69411767)

[node name="Before" type="Area3D" parent="LapMarker" unique_id=1798926997]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 2.4104557)
collision_layer = 2
collision_mask = 0
collision_priority = 2.0
script = ExtResource("4_reikq")

[node name="CollisionShape3D" type="CollisionShape3D" parent="LapMarker/Before" unique_id=1808540226]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.06980896, -1.562561, 1.1866608)
shape = SubResource("BoxShape3D_cm7xk")
debug_color = Color(0, 0.64705884, 0.19215687, 0.6745098)

[node name="After" type="Area3D" parent="LapMarker" unique_id=233353504]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -2.3810577)
collision_layer = 2
collision_mask = 0
collision_priority = 2.0
script = ExtResource("4_reikq")
marker_type = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="LapMarker/After" unique_id=1351516645]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.06980896, -1.562561, 1.1866608)
shape = SubResource("BoxShape3D_eiqoy")
debug_color = Color(0.9372549, 0, 0.11764706, 0.64705884)

[connection signal="body_entered" from="LapMarker" to="LapMarker" method="lap_marker_entered"]
[connection signal="body_entered" from="LapMarker/Before" to="LapMarker" method="before_marker_entered"]
[connection signal="body_entered" from="LapMarker/After" to="LapMarker" method="after_marker_entered"]
